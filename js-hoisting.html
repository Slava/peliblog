<!DOCTYPE html>
<html lang="en">

<head>
  <!-- <link rel="stylesheet/less" type="text/css" href="http://devblog.me/theme/css/style.less"> -->
  <!-- <script src="http://devblog.me/theme/js/less-1.5.0.min.js" type="text/javascript"></script> -->
  <link rel="stylesheet" type="text/css" href="http://devblog.me/theme/css/style.css">

  <link rel="stylesheet" type="text/css" href="http://devblog.me/theme/css/pygments.css">
  <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=PT+Sans|PT+Serif|PT+Mono">

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="author" content="Slava Kim">
  <meta name="description" content="Posts and writings by Slava Kim">


    
    <script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type= "text/javascript">
       MathJax.Hub.Config({
           config: ["MMLorHTML.js"],
           jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML"],
           TeX: { extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"], equationNumbers: { autoNumber: "AMS" } },
           extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js"],
           tex2jax: { 
               inlineMath: [ ['$','$'] ],
               displayMath: [ ['$$','$$'] ],
               processEscapes: true },
           "HTML-CSS": {
               styles: { ".MathJax .mo, .MathJax .mi": {color: "black ! important"}}
           }
       });
    </script>


<meta name="keywords" content="">

  <title>
How JavaScript Hoisting can be dangerous  </title>

<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-37747647-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>

<body>
  <aside>
    <div id="user_meta">
      <a href="http://devblog.me">
        <img src="http://devblog.me/theme/images/logo.png" alt="logo">
      </a>
      <h2><a href="http://devblog.me">Slava Kim</a></h2>
      <p>Learning to code since 2008</p>
      <ul>
        <li><a href="https://github.com/slava" target="_blank">My GitHub</a></li>
        <li><a href="https://twitter.com/imslavko" target="_blank">Me on Twitter</a></li>
        <li><a href="http://slv.io/" target="_blank">More about me</a></li>
      </ul>
    </div>
  </aside>

  <main>
    <header>
<p>Posted on Wed 26 June 2013</p>
    </header>

<article>
  <div class="article_title">
    <h1><a href="http://devblog.me/js-hoisting.html">How JavaScript Hoisting can be dangerous</a></h1>
  </div>
  <div class="article_text">
    <p>I learnt the way scoping and hoisting work in JS early enough so I didn't get
into these pitfalls. My thinking was, hoisting is so innocuous, it can't be
tricky once you know it exists. Today I randomly came up with this example:</p>
<div class="highlight"><pre><span class="c1">// Global object, window in browser or global in node</span>
<span class="no">G</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
<span class="k">function</span> <span class="n">hoistingExample</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// this is global for sure</span>
  <span class="no">G</span><span class="p">.</span><span class="n">answer</span> <span class="o">=</span> <span class="s">&quot;global answer&quot;</span><span class="p">;</span>
  <span class="c1">// looks like we are modifying global var</span>
  <span class="n">answer</span> <span class="o">=</span> <span class="mh">42</span><span class="p">;</span>
  <span class="c1">// create new local var</span>
  <span class="k">var</span> <span class="n">answer</span> <span class="o">=</span> <span class="mh">33</span><span class="p">;</span>
  <span class="n">console</span><span class="p">.</span><span class="n">log</span><span class="p">(</span><span class="n">answer</span><span class="p">,</span> <span class="no">G</span><span class="p">.</span><span class="n">answer</span><span class="p">);</span>
<span class="p">}</span>

<span class="n">hoistingExample</span><span class="p">();</span>
</pre></div>


<p>Looks like it is really easy to forget about hoisting dealing with global and
local variable sharing same name as shadowing happens in the beginning of the
function as supposed to the place where you actually declare local variable.</p>
<p>I didn't fail on this yet, but pretty sure, it may happen soon, will keep you
posted.</p>
  </div>
  <div class="article_meta">
    <p>Category: <a href="http://devblog.me/category/misc.html">misc</a></p>
    <p>Comments: <a href="#" onclick="javascript:toggleComments();return false;">toggle</a></p>
  </div>

    <div id="article_comments" style="display:none">
        <div id="disqus_thread"></div>
        <script type="text/javascript">
           var disqus_identifier = "js-hoisting.html";
           (function() {
           var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
           dsq.src = 'http://zdeslavablog.disqus.com/embed.js';
           (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
          })();
        </script>
    </div>

</article>

    <footer>
<p><a href="http://devblog.me/" class="button_accent">&larr; Back to Index</a></p>
<script language="javascript">
    function toggleComments() {
        var commentDiv = document.getElementById("article_comments");
        (commentDiv.style.display == "none") ? commentDiv.style.display = "block" : commentDiv.style.display = "none";
        return false;
    }
</script>
    </footer>

    <div id="ending_message">
      <p>&copy; Slava Kim. Built using <a href="http://getpelican.com" target="_blank">Pelican</a>. Theme by Giulio Fidente on <a href="https://github.com/giulivo/pelican-svbhack" target="_blank">github</a>. .</p>
    </div>
  </main>
</body>
</html>